<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Barbi ‚ù§Ô∏è</title>

  <link rel="manifest" href="manifest.webmanifest">
  <meta name="theme-color" content="#000000">
  <link rel="apple-touch-icon" href="icons/icon-192.png">

  <style>
    :root{
      --bg1:#05060a;
      --bg2:#0b0b10;
      --card: rgba(255,255,255,.06);
      --stroke: rgba(255,255,255,.14);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.66);
      --gold: #f2cf7a;
      --gold2:#d7b15e;
      --shadow: 0 18px 60px rgba(0,0,0,.55);
      --r: 22px;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial;
      color: var(--text);
      background:
        radial-gradient(900px 600px at 20% 10%, rgba(242,207,122,.16), transparent 55%),
        radial-gradient(700px 500px at 85% 25%, rgba(154,110,255,.14), transparent 55%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
    }

    /* === LOCK SCREEN === */
    .lock-overlay{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,.78);
      backdrop-filter: blur(14px);
      display:flex;
      align-items:center;
      justify-content:center;
      z-index:30000;
    }
    .lock-card{
      width:100%;
      max-width:380px;
      padding:26px 22px 24px;
      border-radius:26px;
      background: rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.16);
      box-shadow:0 30px 90px rgba(0,0,0,.6);
      text-align:center;
    }
    .lock-heart{
      font-size:64px;
      margin-bottom:6px;
      position:relative;
      display:inline-block;
    }
    .lock-heart span{
      position:absolute;
      right:-6px;
      bottom:-6px;
      font-size:26px;
    }
    .lock-card h2{
      margin:6px 0 6px;
      font-size:20px;
      letter-spacing:.3px;
    }
    .lock-card p{
      margin:0 0 16px;
      font-size:13px;
      color: var(--muted);
    }
    .lock-input{
      width:100%;
      text-align:center;
      font-size:24px;
      letter-spacing:10px;
      padding:14px 12px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.18);
      background: rgba(0,0,0,.35);
      color:#fff;
      outline:none;
    }
    .lock-error{
      margin-top:12px;
      font-size:13px;
      color:#ff8a8a;
      display:none;
    }

    /* === APP TARTALOM (EREDTI DIZ√ÅJNOD) === */
    .wrap{
      max-width: 820px;
      margin: 0 auto;
      padding: 28px 18px 60px;
    }

    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      margin-bottom: 16px;
    }
    .brand{
      display:flex; align-items:center; gap:10px;
      padding: 10px 14px;
      border-radius: 999px;
      background: rgba(255,255,255,.05);
      border: 1px solid rgba(255,255,255,.10);
    }
    .dot{
      width:10px;height:10px;border-radius:999px;
      background: linear-gradient(135deg, var(--gold), #ff6bd6);
    }
    .chip{ font-size:12px; color:var(--muted); }

    .hero{
      padding: 26px 22px;
      border-radius: var(--r);
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.12);
      box-shadow: var(--shadow);
    }

    .grid{
      margin-top:16px;
      display:grid;
      grid-template-columns:1fr;
      gap:14px;
    }
    @media(min-width:720px){
      .grid{grid-template-columns:1fr 1fr}
      .span2{grid-column:span 2}
    }

    .card{
      border-radius:var(--r);
      background:var(--card);
      border:1px solid rgba(255,255,255,.1);
      padding:18px;
    }

    .gallery{
      display:grid;
      grid-template-columns:repeat(3,1fr);
      gap:10px;
    }
    .ph{aspect-ratio:1/1;border-radius:16px;overflow:hidden}
    .ph img{width:100%;height:100%;object-fit:cover;cursor:zoom-in}

    .footer{
      margin-top:18px;
      text-align:center;
      font-size:12px;
      color:rgba(255,255,255,.5);
    }

    /* === FULLSCREEN VIEWER === */
    .photo-viewer{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,.9);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:10000;
    }
    .photo-viewer img{
      max-width:95vw;
      max-height:95vh;
      border-radius:18px;
    }
    .pv-btn{
      position:absolute;
      top:50%;
      transform:translateY(-50%);
      width:46px;height:46px;
      border-radius:50%;
      background:rgba(0,0,0,.4);
      color:#fff;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:22px;
      cursor:pointer;
    }
    .pv-btn.left{left:14px}
    .pv-btn.right{right:14px}
  </style>
</head>

<body>

<!-- üîí LOCK SCREEN -->
<div class="lock-overlay" id="lockOverlay">
  <div class="lock-card">
    <div class="lock-heart">‚ù§Ô∏è<span>üîí</span></div>
    <h2>Kulcs</h2>
    <p>Egy d√°tum, ami csak nek√ºnk fontos</p>
    <input id="lockInput" class="lock-input" maxlength="4" inputmode="numeric" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
    <div class="lock-error" id="lockError">Nem ez az üíî</div>
  </div>
</div>

<!-- APP -->
<div class="wrap">
  <div class="topbar">
    <div class="brand"><span class="dot"></span><b>Barbi</b> ‚ù§Ô∏è</div>
    <div class="chip" id="todayChip"></div>
  </div>

  <div class="hero">
    <h1>Barbi ‚ù§Ô∏è</h1>
    <p>K√©pek ‚Ä¢ zene ‚Ä¢ √ºzenetek</p>
  </div>

  <div class="grid">
    <div class="card span2">
      <h3>üì∏ K√©pek</h3>
      <div class="gallery" id="gallery"></div>
    </div>
  </div>

  <div class="footer">K√©sz.</div>
</div>

<!-- FULLSCREEN -->
<div class="photo-viewer" id="photoViewer" onclick="closePhoto()">
  <img id="photoViewerImg">
  <div class="pv-btn left" onclick="event.stopPropagation();prevPhoto()">‚Äπ</div>
  <div class="pv-btn right" onclick="event.stopPropagation();nextPhoto()">‚Ä∫</div>
</div>

<script>
  // DATE
  document.getElementById("todayChip").textContent =
    new Intl.DateTimeFormat("hu-HU",{dateStyle:"medium"}).format(new Date());

  // üîë LOCK
  const LOCK_KEY="barbi_lock_ok";
  const CODE="1021";
  const overlay=document.getElementById("lockOverlay");
  const input=document.getElementById("lockInput");
  const err=document.getElementById("lockError");

  if(localStorage.getItem(LOCK_KEY)==="1"){
    overlay.style.display="none";
  }

  input.addEventListener("input",()=>{
    if(input.value.length<4) return;
    if(input.value===CODE){
      localStorage.setItem(LOCK_KEY,"1");
      overlay.style.display="none";
    }else{
      err.style.display="block";
      input.value="";
      setTimeout(()=>err.style.display="none",1200);
    }
  });

  // GALLERY
  const photos=[
    "photos/1.jpg","photos/2.jpg","photos/3.jpg"
  ];
  const g=document.getElementById("gallery");
  photos.forEach((src,i)=>{
    const d=document.createElement("div");
    d.className="ph";
    const img=document.createElement("img");
    img.src=src;
    img.onclick=()=>openPhoto(i);
    d.appendChild(img);
    g.appendChild(d);
  });

  // VIEWER
  let idx=0;
  function openPhoto(i){idx=i;show()}
  function show(){
    photoViewerImg.src=photos[idx];
    photoViewer.style.display="flex";
  }
  function closePhoto(){photoViewer.style.display="none"}
  function nextPhoto(){idx=(idx+1)%photos.length;show()}
  function prevPhoto(){idx=(idx-1+photos.length)%photos.length;show()}

  // SWIPE
  let sx=0;
  photoViewer.addEventListener("touchstart",e=>sx=e.touches[0].clientX);
  photoViewer.addEventListener("touchend",e=>{
    let dx=e.changedTouches[0].clientX-sx;
    if(Math.abs(dx)>40) dx<0?nextPhoto():prevPhoto();
  });

  // KEYS
  window.addEventListener("keydown",e=>{
    if(photoViewer.style.display!=="flex")return;
    if(e.key==="Escape")closePhoto();
    if(e.key==="ArrowRight")nextPhoto();
    if(e.key==="ArrowLeft")prevPhoto();
  });
</script>

</body>
</html>
